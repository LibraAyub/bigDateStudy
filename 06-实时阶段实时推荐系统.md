# 06 推荐系统

## 1  推荐系统基础概论

```
推荐本质上是商品售卖系统，和电商网站的目的一样，用来售卖商品。
电商网站商品的售卖，正常展示商品（平台想展示什么样品）
推荐系统，是根据用户的喜好，展示对应的商品，提高用户的下单率和转化率。

怎么计算的用户的喜好？
会收集用户的所有的行为信息（网站浏览信息、订单信息、关注信息、收藏商品、评论系统、外部信息（微博信息、联盟网站）），分析用户对某一类商品感兴趣（用户A:电子产品：10|用户A：生活家居：3），推荐喜好强度推荐相关品类的商品。

1）	用户行为收集模块（点击流模块、订单支付模块（AMQ）、用户中心、外部信息）
2）	使用大数据平台对信息（用户和商品）进行处理，得到用户偏好数据（用户喜欢什么类别）
3）	将偏好数据计算出来之后，导入到某一个算法进行计算（预测），得到推荐的结果。
4）	将推荐的结果导入到数据库（Redis、Hbase）中
5）	开发一个推荐引擎（Web网站），对外开放一些接口，输出推荐结果（通过JS代码展现给用户）。
```

###  1.1 数据收集模块

```
	点击流模块：flume+kafka+storm+redis 处理用户当前浏览的信息，将信息计算好之后，保存到redis。（比如用户对一个品类的偏好）。
	订单支付（AMQ）,开发一个消费者程序（storm、javaapp），用来计算用户的偏好
	外部信息：通过爬虫技术爬去用户在社交网站的数据，进行账号的打通，关联账号
	合作数据；比如京东和腾讯合作，可以获取一些用户在腾讯应用上的数据。
	
大数据处理平台：离线计算和实时计算。

推荐算法：协同过滤算法。

推荐引擎：JavaWeb网站开发。
```

###  1.2 用户和商品之间的关系

```
用户在浏览的过程中，会收藏，关注，转发，加入购物车。下单。评论。可以收集他的这些操作。都放入消息队列平台，记很多的topic.

书： 刘思哲  《京东推荐系统》
```

## 2 协同过滤算法

```
1）过滤规则
	协同过滤只是单纯地依赖用户行为数据，在真正的推荐系统中，还需要考虑到很多业务方面的因素。以音乐类app为例。周杰伦出了一张新专辑A，大部分年轻人都会去点击收听，这样会导致其他每一张专辑相似专辑中都会出现专辑A。这个时候，再给用户推荐这样的热门专辑就没有意义了。所以，过滤掉热门的物品，是推荐系统的常见做法之一。这样的规则还有很多，视不同的业务场景而定。
2）推荐的多样性
	与推荐的准确性有些相悖的，是推荐的多样性。比如说推荐音乐，如果完全按照用户行为数据进行推荐，就会使得推荐结果的候选集永远只在一个比较小的范围内：听小清新音乐的人，永远也不会被推荐摇滚乐。这是一个很复杂的问题。在保证推荐结果准确的前提下，按照一定的策略，去逐渐拓宽推荐结果的范围，给予推荐结果一定的多样性，这样才不会腻嘛。
3）持续改进
	推荐系统具有高度复杂性，需要持续地进行改进。可能在同一时间内，需要上线不同的推荐算法，做A/B test。根据用户对推荐结果的行为数据，不断对算法进行优化，改进。要走的路还很长：路漫漫其修远兮，吾将上下而求索。
```